---
title: "Temperatura JP x CG"
output:
    html_document:
    df_print: paged
theme: sandstone
---

```{r echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
library(here)
library(lubridate)
library(ggbeeswarm)
theme_set(theme_bw())
```

```{r read}
climas = read_csv(here::here("data/clima_cg_jp-semanal.csv"), 
                  col_types = "cTddddcd")

glimpse(climas)
```

## Temperatura

### Onde é mais quente?
```{r}
climas %>%
    ggplot(aes(x = cidade, y = tmedia, color = cidade)) +
    geom_quasirandom(alpha = 0.3)
```

### As temperaturas máximas semanais (o pico do calor) são tão diferentes quanto as médias? Mais?  

```{r}
climas %>%
    ggplot(aes(x = cidade , y = tmax, color = cidade)) +
    geom_quasirandom(alpha = 0.3)
    
    labs(
        title = "Temperaturas maximas de Campina Grande e João Pessoa"
    )


    


```

### Quais os meses mais quentes e mais frios? 

```{r}
climas %>%
    ggplot(aes(x = mes, y = tmedia, color = mes))+
    geom_jitter( alpha = 0.4)+
    #scale_x_continuous(breaks = 1:12)+
    labs(
        title = "Meses mais frios"
    )

```

### Qual foi o São João  mais frio de CG que está nos nossos dados?
```{r}
climas %>%
    filter(cidade == "Campina Grande", mes == "6") %>%
    group_by(ano) %>%
    summarise(tsaojoao = mean(tmedia))%>%
    ggplot()+
    geom_point(aes(x = ano, y = tsaojoao))+
    geom_line(aes(x = ano, y = tsaojoao))
```



## Chuva

### Quanto chove por semana em JP e CG?
```{r}
climas %>%
    filter(ano == 2012) %>%
    ggplot(aes(x = semana, y = chuva, color = cidade)) +
    geom_line()+
    facet_grid(~cidade)+
    labs(
        tittle = "Semanas que mais choveram em 2012"
    )

```

Como é a distribuição do volume de chuvas por semana em JP e CG? A chuva varia mais ou menos que a temperatura? O formato da distribuição é igual? 

### No geral, onde chove mais?

```{r}
climas %>%
    ggplot(aes(x = cidade, y = chuva, color = cidade)) +
    geom_boxplot(width = .3, outlier.colour = NA, coef = 1000)
```


### A distribuição é diferente em meses específicos? 
```{r}
climas %>%
    ggplot(aes(x = mes, y = chuva, color = cidade)) +
    geom_line()+
    facet_grid(~cidade)
```

